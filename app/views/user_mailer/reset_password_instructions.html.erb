<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Réinitialisation de mot de passe - <%= @app_name %></title>
</head>
<body>
  <div style="<%= email_wrapper_style %>">
    <div style="<%= email_container_style %>">

      <!-- Header Section -->
      <div style="<%= email_header_style('danger') %>">
        <div style="<%= email_logo_style %>">🔐</div>
        <h1 style="<%= email_header_title_style %>">Réinitialisation de mot de passe</h1>
        <p style="<%= email_header_subtitle_style %>">Sécurisez votre compte <%= @app_name %></p>
      </div>

      <!-- Main Content -->
      <div style="<%= email_content_style %>">
        <h2 style="<%= email_content_title_style %>">
          Bonjour <%= @user.first_name || @user.email.split('@').first %>,
        </h2>

        <p style="<%= email_content_text_style %>">
          Nous avons reçu une demande de réinitialisation de mot de passe pour votre compte
          <strong><%= @app_name %></strong>.
        </p>

        <p style="<%= email_content_text_style %>">
          Pour créer un nouveau mot de passe, cliquez sur le bouton ci-dessous :
        </p>

        <!-- Reset Button -->
        <div style="text-align: center; margin: 30px 0;">
          <a href="<%= @reset_url %>" style="<%= email_button_style('danger') %>">
            Réinitialiser mon mot de passe 🔑
          </a>
        </div>

        <!-- Alternative Link -->
        <p style="font-size: 14px; color: #6c757d; text-align: center;">
          Ou copiez ce lien dans votre navigateur :<br>
          <a href="<%= @reset_url %>" style="<%= email_link_style %>; word-break: break-all;">
            <%= @reset_url %>
          </a>
        </p>

        <!-- Security Warning Box -->
        <div style="<%= email_info_box_style('warning') %>">
          <h4 style="margin: 0 0 10px 0; font-size: 18px;">
            ⚠️ Important à savoir
          </h4>
          <ul style="margin: 0; padding-left: 20px;">
            <li>Ce lien est valide pendant <strong>2 heures</strong> seulement</li>
            <li>Il ne peut être utilisé qu'<strong>une seule fois</strong></li>
            <li>Si vous n'êtes pas à l'origine de cette demande, ignorez cet email</li>
          </ul>
        </div>

        <!-- Security Notice -->
        <div style="<%= email_security_notice_style %>">
          <h4 style="<%= email_security_title_style %>">
            🛡️ Sécurité de votre compte
          </h4>
          <p style="<%= email_security_text_style %>">
            Si vous n'avez pas demandé cette réinitialisation, votre compte est peut-être compromis.
            Contactez immédiatement notre support à
            <a href="mailto:security@kittenlovers.com" style="color: #1976d2;">security@kittenlovers.com</a>
          </p>
        </div>

        <p style="<%= email_content_text_style %>">
          Pour votre sécurité, nous vous recommandons de :
        </p>

        <ul style="<%= email_list_style %>">
          <li>Choisir un mot de passe fort (minimum 8 caractères)</li>
          <li>Inclure des majuscules, minuscules, chiffres et symboles</li>
          <li>Ne pas réutiliser d'anciens mots de passe</li>
          <li>Utiliser un gestionnaire de mots de passe</li>
        </ul>

        <p style="<%= email_content_text_style %>">
          Cordialement,<br>
          <strong>L'équipe sécurité <%= @app_name %></strong> 🔒
        </p>
      </div>

      <!-- Footer -->
      <div style="<%= email_footer_style %>">
        <p style="<%= email_footer_text_style %>">
          <strong><%= @app_name %></strong> - Sécurité et confidentialité
        </p>
        <p style="<%= email_footer_text_style %>">
          <a href="<%= root_url %>" style="<%= email_footer_link_style %>">Accueil</a> |
          <a href="<%= root_url %>security" style="<%= email_footer_link_style %>">Sécurité</a> |
          <a href="mailto:security@kittenlovers.com" style="<%= email_footer_link_style %>">Support</a>
        </p>
        <p style="font-size: 12px; color: rgba(255, 255, 255, 0.6);">
          Email de sécurité envoyé à <%= @user.email %>
        </p>
      </div>

    </div>
  </div>
</body>
</html>
